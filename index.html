<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="入门级菜鸡的自虐笔记" type="application/atom+xml" />






<meta name="description" content="2543250555@qq.com">
<meta property="og:type" content="website">
<meta property="og:title" content="入门级菜鸡的自虐笔记">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="入门级菜鸡的自虐笔记">
<meta property="og:description" content="2543250555@qq.com">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="入门级菜鸡的自虐笔记">
<meta name="twitter:description" content="2543250555@qq.com">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>入门级菜鸡的自虐笔记</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">入门级菜鸡的自虐笔记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/28/Gym - 101492C（_Find_first()的应用）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xyr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="入门级菜鸡的自虐笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/28/Gym - 101492C（_Find_first()的应用）/" itemprop="url">Gym-101492C(\_Find_first()的应用)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-28T13:33:14+08:00">
                2018-05-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>C - Coprimes Gym - 101492C </p>
<p>A. Tuttu (a distant relative of W. Tutte) is a young mathematician with a promising future. As a child, he was very lonely, since he had no siblings nor cousins. One of his earliest Christmas gifts was a Number Theory book. That is the reason he focused on studying this area since a very early age. He was very interested in coprimes, but he could not solve the following problem and he asked you to help him.</p>
<p>Given a sequence of N positive integers, we want to answer M queries. Each query is represented by two indices. He would like to know if there exists a pair of relatively prime numbers in the sequence whose positions are between the given indices.</p>
<p>input<br>The first line has the numbers N and M separated by a space. The second line contains N positive integers a1, a2, …, aN separated by a space. Then there are M lines, each one containing two integers,  and r, separated by a space, encoding a query.</p>
<p>2 ≤ N ≤ 5·104<br>1 ≤ M ≤ 2·105<br>1 ≤ ai ≤ 5·105, 1 ≤ i ≤ N<br>1 ≤ l ≤ r ≤ N</p>
<p>output<br>For each one of the queries you should print “S” (without the double quotes) if there is a pair of relatively prime integers between (including) the sequence positions indexed by  and r, or “N” otherwise.</p>
<p>区间内找是否有两个数互质，即找两个没有相同质因数的数。<br>记录位置i右边第一个与它互质的数的位置。（bitset+_Find_first()）<br>再通过dp实现找到i位置右边第一对符合提议的数的右边的数的位置。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include&lt;bits/stdc++.h&gt;</span></div><div class="line">using namespace std;</div><div class="line">typedef long long ll;</div><div class="line">bitset&lt;50050&gt;pos[50050],mark,now;</div><div class="line">ll n,m,x,dp[50050],a[50050],prime[500050],num[500050],tot=0;</div><div class="line">bool vis[500050];</div><div class="line"></div><div class="line">int <span class="function"><span class="title">main</span></span>()&#123;</div><div class="line">    std::ios::sync_with_stdio(0);</div><div class="line">    fill(vis,vis+sizeof(vis),1);</div><div class="line">    vis[0]=vis[1]=0;</div><div class="line">    <span class="keyword">for</span>(int i=0;i&lt;=500000;i++)&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(vis[i])&#123;</div><div class="line">            prime[tot++]=i;</div><div class="line">            <span class="keyword">for</span>(int j=i;j&lt;=500000;j+=i)&#123;</div><div class="line">                vis[j]=0;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span>(int i=0;i&lt;tot;i++)&#123;</div><div class="line">        num[prime[i]]=i;</div><div class="line">    &#125;</div><div class="line">    cin&gt;&gt;n&gt;&gt;m;</div><div class="line">    <span class="keyword">for</span>(int i=1;i&lt;=n;i++)&#123;</div><div class="line">        cin&gt;&gt;a[i];</div><div class="line">    &#125;</div><div class="line">    dp[n+1]=50050;</div><div class="line">    <span class="keyword">for</span>(int i=n;i&gt;0;i--)&#123;</div><div class="line">        x=a[i];</div><div class="line">        mark[i]=1;//每次把当前位置的右边全部标记</div><div class="line">        now.reset();</div><div class="line">        <span class="keyword">for</span>(int j=0;prime[j]*prime[j]&lt;=x;j++)&#123;</div><div class="line">            <span class="keyword">if</span>(x%prime[j]==0)&#123;</div><div class="line">                pos[num[prime[j]]][i]=1;//标记能被该质因数分解的数字的位置</div><div class="line">                now|=pos[num[prime[j]]];</div><div class="line">                /*记录右边全部被这个质因数分解数字的位置</div><div class="line">                记录后为零的位置就是该数字右边与其互质的数*/</div><div class="line">                <span class="keyword">while</span>(x%prime[j]==0)x/=prime[j];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(x!=1)&#123;pos[num[x]][i]=1;now|=pos[num[x]];&#125;</div><div class="line">        ll k=(mark^now)._Find_first();</div><div class="line">        /*mark右边全为1，与now亦或后。互质的数位置标记变为1，其他为0</div><div class="line">        Bitset._Fing_first()作用是找到第一个为1的位置。</div><div class="line">        即当前位置右边第一个与其互质的数的位置*/</div><div class="line">        dp[i]=min(dp[i+1],k);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">while</span>(m--)&#123;</div><div class="line">        int l,r;</div><div class="line">        cin&gt;&gt;l&gt;&gt;r;</div><div class="line">        <span class="keyword">if</span>(dp[l]&lt;=r)puts(<span class="string">"S"</span>);</div><div class="line">        <span class="keyword">else</span> puts(<span class="string">"N"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/02/Xidian oj 1131 A Fib Sequences(lower_bound应用)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xyr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="入门级菜鸡的自虐笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/02/Xidian oj 1131 A Fib Sequences(lower_bound应用)/" itemprop="url">Xidian_oj_1131:A_Fib_Sequences(lower_bound应用)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-02T13:25:31+08:00">
                2018-05-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1131: A Fib Sequences<br>时间限制: 6 Sec  内存限制: 256 MB<br>提交: 204  解决: 28<br>[提交][状态][讨论版]<br>题目描述<br>链接<a href="http://acm.xidian.edu.cn/problem.php?id=1131" target="_blank" rel="external">http://acm.xidian.edu.cn/problem.php?id=1131</a><br>dada很快就进到了终面，面试官看了一下前面面试的问题都被大大秒了，感觉自己既没面子又没什么可以问的了。决定这次要发大招了，于是就出了当年他上小学时小学奥数里最喜欢的斐波那契数列！他说：“斐波那契数列你不知道吧，哈哈哈！！”然而dada“呵呵”一声说,”不就是a(n+2)=a(n+1)+a(n)（n&gt;0，a(1),a(2)可以是任意值）”。面试官嘴角一扬，“既然这样，那我给你一列数，你告诉我最长的能组成斐波那契的数列的长度是多少（不能改变原数列中数的相对位置）？并且要告诉我是哪些数构成的！”</p>
<p>输入<br>读入有多组数据（不超过15组）<br>对于每组数据先读入一个n(1000&gt;=n&gt;1)。表示数列长度<br>接下来一行，n个数。表示数列的具体的数字，对于每个数t，0&lt;=t&lt;=1e18</p>
<p>输出</p>
<p>对于每组数据，先输出一个数表示最长的长度l<br>接下来l个数，两个数之间用一个空格隔开，表示最长的序列是什么。（行末无空格）</p>
<p>多解的时候输出数列的字典序最小的解</p>
<p>样例输入<br>5<br>1 1 2 9 3<br>3<br>6 4 2<br>2<br>2 3<br>4<br>2 2 10 10<br>样例输出<br>4<br>1 1 2 3<br>2<br>4 2<br>2<br>2 3<br>2<br>2 2<br>提示<br>来源<br>sublimation</p>
<p>心得：<br>    总思路是进行n^2次dp，确认以ai和aj为前两项的序列有多少项，符合条件就更新。<br>    i从后开始遍历，用记忆化搜索大幅减少时间复杂度。<br>    才了解到pair的默认比较方式，相比较first，若first则以相同规则比较second。<br>    第一次接触lower_bound函数。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">参数有三个分别为容器的开始指针，结束指针，和key</div><div class="line">升序排列的容器： </div><div class="line">iterator lower_bound( const key_type &amp;key ): 返回一个迭代器，指向键值&gt;= key的第一个元素。 </div><div class="line">iterator upper_bound( const key_type &amp;key ):返回一个迭代器，指向键值&lt;=key的最后一个元素的后一个元素。 </div><div class="line">降序排列的容器： </div><div class="line">iterator lower_bound( const key_type &amp;key ): 返回一个迭代器，指向键值&lt;= key的第一个元素。 </div><div class="line">iterator upper_bound( const key_type &amp;key ):返回一个迭代器，指向键值&gt;=key的最后一个元素的后一个元素。</div></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include&lt;bits/stdc++.h&gt;</span></div><div class="line">using namespace std;</div><div class="line"></div><div class="line"><span class="comment">#define fi first</span></div><div class="line"><span class="comment">#define se second</span></div><div class="line"><span class="comment">#define ll long long</span></div><div class="line"><span class="comment">#define pll pair&lt;long long,long long&gt;</span></div><div class="line">pair&lt;long long,long long&gt; v[1010];</div><div class="line">int dp[1010][1010];</div><div class="line">ll a[1010];</div><div class="line">int <span class="function"><span class="title">main</span></span>()&#123;</div><div class="line">    ios::sync_with_stdio(0);</div><div class="line">	ll n;</div><div class="line">	<span class="keyword">while</span>(cin&gt;&gt;n)&#123;</div><div class="line">        <span class="keyword">for</span>(int i=1;i&lt;=n;i++)&#123;</div><div class="line">            cin&gt;&gt;a[i];</div><div class="line">            v[i]=&#123;a[i],i&#125;;</div><div class="line">        &#125;</div><div class="line">        sort(v+1,v+n+1);</div><div class="line">        pll res;ll cnt=0;</div><div class="line">        <span class="keyword">for</span>(int i=n-1;i&gt;=1;i--)&#123;</div><div class="line">            <span class="keyword">for</span>(int j=i+1;j&lt;=n;j++)&#123;</div><div class="line">                pll *k=lower_bound(v+1,v+n+1,(pll)&#123;a[i]+a[j],j+1&#125;);</div><div class="line">                <span class="keyword">if</span>(k!=v+n+1&amp;&amp;k-&gt;<span class="keyword">fi</span>==a[i]+a[j])&#123;</div><div class="line">                    dp[i][j]=dp[j][k-&gt;se]+1;</div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    dp[i][j]=2;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(dp[i][j]&gt;cnt||(dp[i][j]==cnt &amp;&amp; (pll)&#123;a[i],a[j]&#125;&lt;res))&#123;</div><div class="line">                    res=&#123;a[i],a[j]&#125;;</div><div class="line">                    cnt=dp[i][j];</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        cout&lt;&lt;cnt&lt;&lt;endl;</div><div class="line">        cout&lt;&lt;res.fi&lt;&lt;<span class="string">' '</span>&lt;&lt;res.se;</div><div class="line">        <span class="keyword">for</span>(int i=2;i&lt;cnt;i++)&#123;</div><div class="line">            res.fi+=res.se;</div><div class="line">            cout&lt;&lt;<span class="string">' '</span>&lt;&lt;res.fi;</div><div class="line">            swap(res.fi,res.se);</div><div class="line">        &#125;</div><div class="line">        cout&lt;&lt;endl;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">return</span> 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/23/因数和/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xyr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="入门级菜鸡的自虐笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/23/因数和/" itemprop="url">约数和（洛谷P2424）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-23T21:23:39+08:00">
                2018-04-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>洛谷P2424<br>题目背景<br>Smart最近沉迷于对约数的研究中。</p>
<p>题目描述<br>对于一个数X，函数f(X)表示X所有约数的和。例如：f(6)=1+2+3+6=12。对于一个X，Smart可以很快的算出f(X)。现在的问题是，给定两个正整数X,Y(X&lt;Y)，Smart希望尽快地算出f(X)+f(X+1)+……+f(Y)的值，你能帮助Smart算出这个值吗？</p>
<p>输入输出格式<br>输入格式：<br>输入文件仅一行，两个正整数X和Y（X&lt;Y），表示需要计算f(X)+f(X+1)+……+f(Y)。</p>
<p>输出格式：<br>输出只有一行，为f(X)+f(X+1)+……+f(Y)的值。</p>
<p>输入输出样例<br>输入样例#1：<br>2 4<br>输出样例#1：<br>14<br>输入样例#2：<br>123 321<br>输出样例#2：<br>72543</p>
<p>把f(x)用数学方式表示一下就是f(x)=∑d|x d</p>
<p>先假设要求k为1~n的约数和</p>
<p>最直接的方法是直接枚举然后累加，但这样的时间复杂度是O(∑i=1 n（i^1/2）).</p>
<p>第二种思路是枚举约数,考虑1−n中有几个数是d的倍数<br>假如1−n中存在d的倍数，那这个数肯定可以表示为k⋅d(k∈N+)且1≤k≤n/d;</p>
<p>也就是说从1−n中把d,2d,3d…..(n/d)d取出来，<br>易知d的倍数的个数就是(n/d)</p>
<p>即有k=∑ i=1 n(n/i∗i)<br>这种做法时间复杂度是O(n).</p>
<p>第三种思路是，我们想尝试把n/i列举出来，<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">以12为例，12,6,4,3,2,2,1,1,1,1,1,1</div></pre></td></tr></table></figure></p>
<p>发现这里面有些数是重复且连续的<br>考虑能不能把这些重复的一次算出来</p>
<p>只要我们能够找到每个区间的l，r就很容易可以得到答案；<br>显然l（i）=r（i-1）+1</p>
<p>l是那个数列的下标，所以 (n/l) 就是约数<br>n/(n/l)就是有多少个x，存在在y取1~n内 做运算 y/x==(n/l)//整除；</p>
<p>ans+=约数*约数的个数</p>
<p>约数=n/l<br>约数的个数=(l+r)∗(r−l+1)/2<br>即ans+=(n/l)∗(l+r)∗(r−l+1)/2</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include&lt;bits/stdc++.h&gt;</span></div><div class="line">using namespace std;</div><div class="line">typedef long long ll;</div><div class="line"></div><div class="line">const ll maxn = 1e6+10;</div><div class="line">const ll mo = 1e9;</div><div class="line">const ll INF = 0x3f3f3f3f;</div><div class="line">ll l,r,ans1,ans2,n,m;</div><div class="line"></div><div class="line">ll work(ll x)&#123;</div><div class="line">    ll ans=0;</div><div class="line">    l=1,r=0;</div><div class="line">    <span class="keyword">while</span>(l&lt;=x)&#123;</div><div class="line">        r=x/(x/l);</div><div class="line">        <span class="keyword">if</span>((l+r)%2)ans+=(r<span class="_">-l</span>+1)/2*(l+r)*(x/l);</div><div class="line">        <span class="keyword">else</span> ans+=(l+r)/2*(r<span class="_">-l</span>+1)*(x/l);</div><div class="line">        l=r+1;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int  <span class="function"><span class="title">main</span></span>()&#123;</div><div class="line">    <span class="keyword">while</span>(cin&gt;&gt;n&gt;&gt;m)&#123;</div><div class="line">        ans1=work(n-1);</div><div class="line">        ans2=work(m);</div><div class="line">        cout&lt;&lt;ans2-ans1&lt;&lt;endl;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/23/eoj3541(map+set)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xyr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="入门级菜鸡的自虐笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/23/eoj3541(map+set)/" itemprop="url">eoj3541（map+set）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-23T21:17:49+08:00">
                2018-04-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>B. 代码查重<br>Time limit per test: 2.0 seconds</p>
<p>Memory limit: 256 megabytes</p>
<p>一场 EOJ 月赛中在小迷妹们的合作之下她们 AC 了所有题目。</p>
<p>拥有 EOJ 管理员权限的 ultmaster 男神理所当然地抄袭了小迷妹们的代码，并修改了部分代码。ultmaster 男神想知道他的代码是否会被查重，若会被查重则输出 Yes 否则输出 No。由于 EOJ 查重系统比较弱智，所以两份代码会被查重的充要条件是，每行代码对应的哈希值都完全同义。</p>
<p>注：同义关系满足自反性，对称性，但不满足传递性。</p>
<p>自反性：对于任意x同义于x 。<br>对称性：对于任意x,y，如果x同义于y，则y同义于x。<br>传递性：对于任意x,y,z，如果x同义于y,x同义于z，则y同义于z。<br>Input<br>第一行三个整数你，n,m,k   分别表示小迷妹们的代码行数，ultmaster 代码长度，EOJ 查重系统默认的同义关系个数。</p>
<p>第二行n个整数 AI，表示小迷妹们代码每行的哈希值。</p>
<p>第三行m个整数 BI，表示 ultmaster 代码每行的哈希值。</p>
<p>接下去k行，每行两个整数X,Y，表示哈希值为X和哈希值为Y同义。同一对X,Y, 可能重复出现。</p>
<p>Output<br>输出一行字符串，Yes 或 No 表示 ultmaster 男神的代码是否会被查重。</p>
<p>Examples<br>input<br>1 1 2<br>1<br>3<br>1 2<br>2 3<br>output<br>No<br>input<br>2 2 1<br>1 1<br>2 2<br>1 2<br>output<br>Yes</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include&lt;bits/stdc++.h&gt;</span></div><div class="line">using namespace std;</div><div class="line">typedef long long LL;</div><div class="line">const int maxn = 1e6 + 5;</div><div class="line">LL n,t,m,ans,k;</div><div class="line"></div><div class="line">LL A[100010],B[100010],x,y;</div><div class="line">bool flag=1;</div><div class="line"></div><div class="line">vector&lt;int&gt; num;</div><div class="line">map&lt;int,int&gt; ID;//快速获取相应id</div><div class="line"></div><div class="line"></div><div class="line">int getID(int x)&#123;</div><div class="line">	//由于ai,bi	取1~1e9，但是n,m,k取1~1e5;</div><div class="line">	//所以开数组2存会有很大的内存浪费</div><div class="line">	//所以针对每种ai预处理一下得到相应id，方便处理；</div><div class="line">    <span class="keyword">if</span>(ID.find(x)==ID.end())&#123;</div><div class="line">        num.push_back(x);</div><div class="line">        ID[x]=num.size()-1;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> ID[x];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">set</span>&lt;int&gt;hashh[maxn];</div><div class="line"></div><div class="line">void <span class="function"><span class="title">init</span></span>()&#123;</div><div class="line">    <span class="keyword">for</span>(int i=0;i&lt;maxn;i++)&#123;</div><div class="line">        hashh[i].clear();</div><div class="line">    &#125;</div><div class="line">    num.clear();</div><div class="line">    ID.clear();</div><div class="line">    flag=1;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">int  <span class="function"><span class="title">main</span></span>()&#123;</div><div class="line">    //freopen(<span class="string">"123.in"</span>,<span class="string">"r"</span>,stdin);</div><div class="line">    //ios::sync_with_stdio(<span class="literal">false</span>);</div><div class="line">    //eoj关闭同步会WA，不知为什么。</div><div class="line">    <span class="keyword">while</span>(cin&gt;&gt;n&gt;&gt;m&gt;&gt;k)&#123;</div><div class="line">        init();</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;n;i++)&#123;</div><div class="line">            cin&gt;&gt;A[i];</div><div class="line">            getID(A[i]);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;m;i++)&#123;</div><div class="line">            cin&gt;&gt;B[i];</div><div class="line">            getID(B[i]);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;k;i++)&#123;</div><div class="line">            scanf(<span class="string">"%lld%lld"</span>,&amp;x,&amp;y);</div><div class="line">            int a=getID(x);</div><div class="line">            int b=getID(y);</div><div class="line">            hashh[a].insert(b);</div><div class="line">            hashh[b].insert(a);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;min(n,m);i++)&#123;</div><div class="line">            x=getID(A[i]),y=getID(B[i]);</div><div class="line">            <span class="keyword">if</span>(hashh[x].count(y)==0&amp;&amp;x!=y&amp;&amp;hashh[y].count(x)==0)&#123;</div><div class="line">                flag=0;</div><div class="line">                <span class="built_in">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(n != m) flag = 0;</div><div class="line">        <span class="keyword">if</span>(flag)cout&lt;&lt;<span class="string">"Yes"</span>&lt;&lt;endl;</div><div class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="string">"No"</span>&lt;&lt;endl;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/22/2018宁夏预选赛B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xyr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="入门级菜鸡的自虐笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/22/2018宁夏预选赛B/" itemprop="url">2018宁夏预选赛B（米勒拉宾素数判定算法）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-22T18:46:25+08:00">
                2018-04-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Goldbach<br>Description:</p>
<p>Goldbach’s conjecture is one of the oldest and best-known unsolved problems in number theory and all of mathematics. It states:</p>
<p>Every even integer greater than 2 can be expressed as the sum of two primes.</p>
<p>The actual verification of the Goldbach conjecture shows that even numbers below at least 1e14 can be expressed as a sum of two prime numbers. </p>
<p>Many times, there are more than one way to represent even numbers as two prime numbers. </p>
<p>For example, 18=5+13=7+11, 64=3+61=5+59=11+53=17+47=23+41, etc.</p>
<p>Now this problem is asking you to divide a postive even integer n (2&lt; n &lt;2^63) into two prime numbers.</p>
<p>Although a certain scope of the problem has not been strictly proved the correctness of Goldbach’s conjecture, we still hope that you can solve it. </p>
<p>If you find that an even number of Goldbach conjectures are not true, then this question will be wrong, but we would like to congratulate you on solving this math problem that has plagued humanity for hundreds of years.</p>
<p>Input:</p>
<p>The first line of input is a T means the number of the cases.</p>
<p>Next T lines, each line is a postive even integer n (2&lt; n &lt;2^63).</p>
<p>Output:</p>
<p>The output is also T lines, each line is two number we asked for.</p>
<p>T is about 100.8</p>
<p>本题答案不唯一，符合要求的答案均正确</p>
<p>样例输入<br>1<br>8<br>样例输出<br>3 5</p>
<p>简单证明:<br>由费马小定理有<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">n是一个奇素数，a是任何整数(1≤ a≤n-1) ，则 a^(n-1)≡1(mod n)。</div></pre></td></tr></table></figure></p>
<p>易知<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">n是一个奇素数，则方程x^2 ≡ 1 mod n只有±1两个解。</div></pre></td></tr></table></figure></p>
<p>即有<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">如果n是一个奇素数，将n-1表示成2^s*r的形式(r是奇数)，a是和n互素的任何整数，那么a^r≡1(mod n)或者对某个j(0≤j≤s－1,j∈Z)等式a^(2^j*r)≡－1(mod n)成立。</div></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include &lt;bits/stdc++.h&gt;</span></div><div class="line">using namespace std;</div><div class="line">typedef unsigned long long ll;//爆long long </div><div class="line">const int S=10;</div><div class="line"></div><div class="line">ll mult_mod(ll a,ll b,ll c)&#123;</div><div class="line">    a%=c;</div><div class="line">    b%=c;</div><div class="line">    ll ret=0;</div><div class="line">    ll tmp=a;</div><div class="line">    <span class="keyword">while</span>(b)&#123;</div><div class="line">        <span class="keyword">if</span>(b&amp;1)&#123;</div><div class="line">            ret+=tmp;</div><div class="line">            <span class="keyword">if</span>(ret&gt;c) ret-=c;</div><div class="line">        &#125;</div><div class="line">        tmp&lt;&lt;=1;</div><div class="line">        <span class="keyword">if</span>(tmp&gt;c) tmp-=c;</div><div class="line">        b&gt;&gt;=1;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> ret;</div><div class="line">&#125;</div><div class="line"></div><div class="line">ll pow_mod(ll a,ll n,ll mod)&#123;</div><div class="line">	//直接快速幂会爆long long</div><div class="line">    ll ret=1;</div><div class="line">    ll tmp=a%mod;</div><div class="line">    <span class="keyword">while</span>(n)&#123;</div><div class="line">        <span class="keyword">if</span>(n&amp;1) ret=mult_mod(ret,tmp,mod);</div><div class="line">        tmp=mult_mod(tmp,tmp,mod);</div><div class="line">        n&gt;&gt;=1;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> ret;</div><div class="line">&#125;</div><div class="line">bool check(ll a,ll n,ll x,ll t)&#123;</div><div class="line">    ll ret=pow_mod(a,x,n);</div><div class="line">    ll last=ret;</div><div class="line">    <span class="keyword">for</span>(int i=1;i&lt;=t;i++)&#123;</div><div class="line">        ret=mult_mod(ret,ret,n);</div><div class="line">        <span class="keyword">if</span>(ret==1&amp;&amp;last!=1&amp;&amp;last!=n-1) <span class="built_in">return</span> <span class="literal">true</span>;</div><div class="line">        last=ret;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(ret!=1) <span class="built_in">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line">bool Miller_Rabin(ll n)&#123;</div><div class="line">    <span class="keyword">if</span>(n&lt;2) <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="keyword">if</span>(n==2) <span class="built_in">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="keyword">if</span>((n&amp;1)==0) <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">    ll x=n-1;</div><div class="line">    ll t=0;</div><div class="line">    <span class="keyword">while</span>((x&amp;1)==1)&#123;</div><div class="line">        x&gt;&gt;=1;</div><div class="line">        t++;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span>(int i=0;i&lt;S;i++)&#123;</div><div class="line">        ll a=rand()%(n-1)+1;</div><div class="line">        <span class="keyword">if</span>(check(a,n,x,t)) <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line">int main()</div><div class="line">&#123;</div><div class="line">    int t;</div><div class="line">    cin&gt;&gt;t;</div><div class="line">    <span class="keyword">while</span>(t--)&#123;</div><div class="line">        ll n;</div><div class="line">        cin&gt;&gt;n;</div><div class="line">        <span class="keyword">if</span>(n==4||n==6) cout&lt;&lt;n/2&lt;&lt;<span class="string">" "</span>&lt;&lt;n/2&lt;&lt;endl;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">for</span>(ll i=3;i&lt;=n;i+=2)&#123;</div><div class="line">                <span class="keyword">if</span>(!Miller_Rabin(i)) <span class="built_in">continue</span>;</div><div class="line">                <span class="keyword">if</span>(Miller_Rabin(i)&amp;&amp;Miller_Rabin(n-i))&#123;</div><div class="line">                    cout&lt;&lt;i&lt;&lt;<span class="string">" "</span>&lt;&lt;n-i&lt;&lt;endl;</div><div class="line">                    <span class="built_in">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/11/CodeForces - 962D(优先队列)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xyr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="入门级菜鸡的自虐笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/11/CodeForces - 962D(优先队列)/" itemprop="url">CodeForces - 962D(优先队列)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-11T23:50:44+08:00">
                2018-04-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>D. Merge Equals<br>time limit per test2 seconds<br>memory limit per test256 megabytes<br>inputstandard input<br>outputstandard output<br>You are given an array of positive integers. While there are at least two equal elements, we will perform the following operation. We choose the smallest value x that occurs in the array 2 or more times. Take the first two occurrences of x in this array (the two leftmost occurrences). Remove the left of these two occurrences, and the right one is replaced by the sum of this two values (that is, 2⋅x).</p>
<p>Determine how the array will look after described operations are performed.</p>
<p>For example, consider the given array looks like [3,4,1,2,2,1,1]. It will be changed in the following way: [3,4,1,2,2,1,1] → [3,4,2,2,2,1] → [3,4,4,2,1] → [3,8,2,1].<br>If the given array is look like [1,1,3,1,1] it will be changed in the following way: [1,1,3,1,1] → [2,3,1,1] → [2,3,2] → [3,4].</p>
<p>Input<br>The first line contains a single integer n (2≤n≤150000) — the number of elements in the array.<br>The second line contains a sequence from n elements a1,a2,…,an  — the elements of the array.</p>
<p>Output<br>In the first line print an integer k — the number of elements in the array after all the performed operations. In the second line print k integers — the elements of the array after all the performed operations.</p>
<p>Examples<br>input<br>7<br>3 4 1 2 2 1 1<br>output<br>4<br>3 8 2 1<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include&lt;bits/stdc++.h&gt;</span></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">struct node&#123;</div><div class="line">    long long x,now;</div><div class="line">    bool operator &lt; (const node &amp;a)const&#123;</div><div class="line">        <span class="keyword">if</span>(x==a.x)<span class="built_in">return</span> now&gt;a.now;</div><div class="line">        <span class="built_in">return</span> x&gt;a.x;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">node c[1000010];</div><div class="line"></div><div class="line">priority_queue&lt;node,vector&lt;node&gt;,less&lt;node&gt; &gt;q;</div><div class="line"></div><div class="line">bool cmp(node x,node y)&#123;<span class="built_in">return</span> x.now&lt;y.now;&#125;</div><div class="line"></div><div class="line">int n,now,x,j=0;</div><div class="line">void <span class="function"><span class="title">work</span></span>()&#123;</div><div class="line">    node a=q.top();q.pop();</div><div class="line">    <span class="keyword">while</span>(!q.empty())&#123;</div><div class="line">        node b=q.top();q.pop();</div><div class="line">        <span class="keyword">if</span>(a.x==b.x)&#123;</div><div class="line">            b.x*=2;q.push(b);</div><div class="line">            a=q.top();q.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            c[j++]=a;</div><div class="line">            a=b;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    c[j++]=a;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int <span class="function"><span class="title">main</span></span>()&#123;</div><div class="line">    //freopen(<span class="string">"123.in"</span>,<span class="string">"r"</span>,stdin);</div><div class="line">    node a;</div><div class="line">    <span class="keyword">while</span>(~scanf(<span class="string">"%d"</span>,&amp;n))&#123;</div><div class="line">        j=0;</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;n;i++)&#123;</div><div class="line">            cin&gt;&gt;x;</div><div class="line">            a.x=x;</div><div class="line">            a.now=i+1;</div><div class="line">            q.push(a);</div><div class="line">        &#125;</div><div class="line">        work();</div><div class="line">        sort(c,c+j,cmp);</div><div class="line">        cout&lt;&lt;j&lt;&lt;endl;</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;j;i++)&#123;</div><div class="line">            cout&lt;&lt; c[i].x &lt;&lt; <span class="string">' '</span>;</div><div class="line">        &#125;</div><div class="line">        cout&lt;&lt;endl;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/07/蓝桥杯与天梯赛总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xyr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="入门级菜鸡的自虐笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/07/蓝桥杯与天梯赛总结/" itemprop="url">蓝桥杯与天梯赛总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-07T11:40:40+08:00">
                2018-04-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>上星期我们连续打了天梯赛和蓝桥杯，发现了自己很多不足。<br>天梯赛：1.码速不快，导致有两道已经读懂题意的题目并没有时间尝试。2.对一些常见封装函数不熟悉，因为搞错了strcmp（）的返回值导致没有通过最后开的一题。3.不熟悉赛制，在有部分分的比赛中，我没有尝试去获得部分分。<br>蓝桥杯：1.没有背熟常见头文件，在没有cb辅助补全的情况下，一度心态爆炸。2.看题不谨慎，把全球变暖的问题看反了，而且恰好样例能通过。直到赛后和同学讨论才知道错误。<br>最近在补题的时候已经发现，因为知识面不够，在补题的时候需要花费大量的时间才能理解代码逻辑。所以在以后，做题补题的同时要加紧对知识点的学习。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/07/HDU-6085(bitset)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xyr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="入门级菜鸡的自虐笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/07/HDU-6085(bitset)/" itemprop="url">A - Rikka with Candies HDU - 6085（bitset应用）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-07T01:40:17+08:00">
                2018-04-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>As we know, Rikka is poor at math. Yuta is worrying about this situation, so he gives Rikka some math tasks to practice. There is one of them: </p>
<p>There are n children and m kinds of candies. The ith child has Ai dollars and the unit price of the ith kind of candy is Bi. The amount of each kind is infinity. </p>
<p>Each child has his favorite candy, so he will buy this kind of candies as much as possible and will not buy any candies of other kinds. For example, if this child has 10 dollars and the unit price of his favorite candy is 4 dollars, then he will buy two candies and go home with 2 dollars left. </p>
<p>Now Yuta has q queries, each of them gives a number k. For each query, Yuta wants to know the number of the pairs (i,j)(1≤i≤n,1≤j≤m) which satisfies if the ith child’s favorite candy is the jth kind, he will take k dollars home. </p>
<p>To reduce the difficulty, Rikka just need to calculate the answer modulo 2. </p>
<p>But It is still too difficult for Rikka. Can you help her?<br>Input<br>The first line contains a number t(1≤t≤5), the number of the testcases. </p>
<p>For each testcase, the first line contains three numbers n,m,q(1≤n,m,q≤50000). </p>
<p>The second line contains n numbers Ai(1≤Ai≤50000) and the third line contains m numbers Bi(1≤Bi≤50000). </p>
<p>Then the fourth line contains q numbers ki(0≤ki&lt;MAXBi) , which describes the queries.</p>
<p>It is guaranteed that Ai≠Aj,Bi≠Bj for all i≠j.<br>Output<br>For each query, print a single line with a single 01 digit – the answer.<br>Sample Input<br>1<br>5 5 5<br>1 2 3 4 5<br>1 2 3 4 5<br>0 1 2 3 4<br>Sample Output<br>0<br>0<br>0<br>0<br>1</p>
<p>题意是给出数组a，b。每次询问输入k。求任意i，j有ai%bj=k的数量。</p>
<p>ai%bj=k  =&gt;  ai-k=bj*x<br>所以我们只用统计相应bj与x使等式成立的对数就行了。<br>但是，在我们遍历bi与x的时候，我们应该什么时候记录相应的对数呢？<br>显然ai%bj=k时有看k &lt; bj；<br>所以k &gt;= bj的情况是不会影响相应k的结果的，所以我们可以把b由大到小遍历。<br>直至k &gt;= bj时记录下相应k的对数。</p>
<p>在这题里，我们应用了bitset类型以便于统计对数以及ai-k的操作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include&lt;cstdio&gt;</span></div><div class="line"><span class="comment">#include&lt;cstdlib&gt;</span></div><div class="line"><span class="comment">#include&lt;cstring&gt;</span></div><div class="line"><span class="comment">#include&lt;iostream&gt;</span></div><div class="line"><span class="comment">#include&lt;cmath&gt;</span></div><div class="line"><span class="comment">#include&lt;string&gt;</span></div><div class="line"><span class="comment">#include &lt;bits/stdc++.h&gt;</span></div><div class="line">using namespace std;</div><div class="line">const int N =50000+5;</div><div class="line">bitset&lt;N&gt;a,b,ans,bx;</div><div class="line">int cnt;</div><div class="line">void <span class="function"><span class="title">init</span></span>()&#123;</div><div class="line">    a.reset(),b.reset();</div><div class="line">    ans.reset(),bx.reset();</div><div class="line">&#125;</div><div class="line">void work(int x)&#123;</div><div class="line">    <span class="keyword">for</span>(int i=x;i&gt;=0;i--)&#123;</div><div class="line">        ans[i]=((a&gt;&gt;i)&amp;bx).count()&amp;1;//a&gt;&gt;i相当于每个ai和k=i的情况。</div><div class="line">        <span class="keyword">if</span>(!b[i])<span class="built_in">continue</span>;</div><div class="line">        <span class="keyword">for</span>(int j=0;j&lt;N;j+=i)&#123;</div><div class="line">            bx.flip(j);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">int <span class="function"><span class="title">main</span></span>()&#123;</div><div class="line">    int maxb=0,t,n,m,q,x;</div><div class="line">    scanf(<span class="string">"%d"</span>,&amp;t);</div><div class="line">    <span class="keyword">while</span>(t--)&#123;</div><div class="line">        init();</div><div class="line">        maxb=0;</div><div class="line">        scanf(<span class="string">"%d%d%d"</span>,&amp;n,&amp;m,&amp;q);</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;n;i++)&#123;</div><div class="line">            scanf(<span class="string">"%d"</span>,&amp;x);</div><div class="line">            a.set(x);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;m;i++)&#123;</div><div class="line">            scanf(<span class="string">"%d"</span>,&amp;x);</div><div class="line">            b.set(x);</div><div class="line">            maxb=max(maxb,x);</div><div class="line">        &#125;</div><div class="line">        work(maxb);</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;q;i++)&#123;</div><div class="line">            scanf(<span class="string">"%d"</span>,&amp;x);</div><div class="line">            <span class="keyword">if</span>(ans[x])puts(<span class="string">"1"</span>);</div><div class="line">            //这题卡cout。。。醉了，本来cout也能过的</div><div class="line">            //上面加了一行注释就tle了</div><div class="line">            <span class="keyword">else</span> puts(<span class="string">"0"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">对于一个叫做foo的bitset：</div><div class="line">foo.size() 返回大小（位数）</div><div class="line">foo.count() 返回1的个数</div><div class="line">foo.any() 返回是否有1</div><div class="line">foo.none() 返回是否没有1</div><div class="line">foo.set() 全都变成1</div><div class="line">foo.set(p) 将第p + 1位变成1</div><div class="line">foo.set(p, x) 将第p + 1位变成x</div><div class="line">foo.reset() 全都变成0</div><div class="line">foo.reset(p) 将第p + 1位变成0</div><div class="line">foo.flip() 全都取反</div><div class="line">foo.flip(p) 将第p + 1位取反</div><div class="line">foo.to_ulong() 返回它转换为unsigned long的结果，如果超出范围则报错</div><div class="line">foo.to_ullong() 返回它转换为unsigned long long的结果，如果超出范围则报错</div><div class="line">foo.to_string() 返回它转换为string的结果</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/05/Educational Codeforces Round 41 C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xyr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="入门级菜鸡的自虐笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/05/Educational Codeforces Round 41 C/" itemprop="url">Educational Codeforces Round 41 C</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-05T01:10:10+08:00">
                2018-04-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>C. Chessboard<br>time limit per test1 second<br>memory limit per test256 megabytes<br>inputstandard input<br>outputstandard output<br>Magnus decided to play a classic chess game. Though what he saw in his locker shocked him! His favourite chessboard got broken into 4 pieces, each of size n by n, n is always odd. And what’s even worse, some squares were of wrong color. j-th square of the i-th row of k-th piece of the board has color ak, i, j; 1 being black and 0 being white.</p>
<p>Now Magnus wants to change color of some squares in such a way that he recolors minimum number of squares and obtained pieces form a valid chessboard. Every square has its color different to each of the neightbouring by side squares in a valid board. Its size should be 2n by 2n. You are allowed to move pieces but not allowed to rotate or flip them.</p>
<p>Input<br>The first line contains odd integer n (1 ≤ n ≤ 100) — the size of all pieces of the board.</p>
<p>Then 4 segments follow, each describes one piece of the board. Each consists of n lines of n characters; j-th one of i-th line is equal to 1 if the square is black initially and 0 otherwise. Segments are separated by an empty line.</p>
<p>Output<br>Print one number — minimum number of squares Magnus should recolor to be able to obtain a valid chessboard.<br>Examples<br>input<br>1<br>0</p>
<p>0</p>
<p>1</p>
<p>0<br>output<br>1<br>input<br>3<br>101<br>010<br>101</p>
<p>101<br>000<br>101</p>
<p>010<br>101<br>011</p>
<p>010<br>101<br>010<br>output<br>2<br>题意很简单，有4块n*n棋盘。其中有些棋盘的配色不标准，问至少需要重新染色多少块才能使它们组成成一块完整的2n*2n的棋盘。（n为奇数）</p>
<p>数据不算大，很容易想到这种暴力模拟的思路，但是当时做的时候没想到如何把每种排列情况全列出来。赛后看榜单上的代码才知道了有一个叫next_permutation()的全排列函数。<br>            next_permutation()会取得[first,last)所标示之序列的下一个排列组合，如果没有下一个排列组合，便返回false;否则返回true。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include&lt;bits/stdc++.h&gt;</span></div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">const int INF = 0x3f3f3f3f;</div><div class="line"></div><div class="line">char <span class="keyword">in</span>[4][105][105];</div><div class="line">char cur[205][205];</div><div class="line"></div><div class="line">int now[4];</div><div class="line">int <span class="function"><span class="title">main</span></span>() &#123;</div><div class="line">	int n,minn=1e9,ans;</div><div class="line">	char ch;</div><div class="line">	scanf(<span class="string">"%d"</span>, &amp;n);</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(int i=0;i&lt;4;i++)</div><div class="line">        <span class="keyword">for</span> (int j=0;j&lt;n;j++)</div><div class="line">            scanf(<span class="string">"%s"</span>,<span class="keyword">in</span>[i][j]);</div><div class="line"></div><div class="line">	<span class="keyword">for</span> (int i=0;i&lt;4;i++)now[i]=i;</div><div class="line"></div><div class="line">    <span class="keyword">do</span>&#123;</div><div class="line">        ans=0;</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;4;i++)&#123;</div><div class="line">            <span class="keyword">for</span>(int j=0;j&lt;n;j++)&#123;</div><div class="line">                <span class="keyword">for</span>(int k=0;k&lt;n;k++)&#123;</div><div class="line">                    cur[(i/2)*n+j][(i%2)*n+k]=<span class="keyword">in</span>[now[i]][j][k];//拼成新的棋盘</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(int i=0;i&lt;2*n;i++)&#123;</div><div class="line">            <span class="keyword">for</span>(int j=0;j&lt;2*n;j++)&#123;</div><div class="line">                <span class="keyword">if</span>((i+j)%2)ch=<span class="string">'0'</span>;//黑白相间的棋盘颜色</div><div class="line">                <span class="keyword">else</span> ch=<span class="string">'1'</span>;</div><div class="line">                <span class="keyword">if</span>(ch!=cur[i][j])ans++;//每种情况需要颜色次数</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        minn=min(minn,ans);</div><div class="line"></div><div class="line">    &#125;<span class="keyword">while</span>(next_permutation(now,now+4));//把棋盘摆放顺序全排列，遍历所有摆放情况。</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,minn);</div><div class="line">	<span class="built_in">return</span> 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/30/Gym-101755C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xyr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="入门级菜鸡的自虐笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/Gym-101755C/" itemprop="url">Gym - 101755C</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-30T21:31:23+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Problem C. Third-Party Software</p>
<p>Time limit: 2 seconds<br>Memory limit: 256 megabytes<br>Pavel is developing a game. To do that, he needs functions available in a third-party library too famous to be called. It is known that the function i first appeared in version ai and existed until version bi , and starting from the version bi + 1, it is absent in this library.<br>The library is not free and Pavel needs all the functions. Which minimal number of versions he need to purchase to be able to use all the functions?</p>
<p>Input<br>The first line contains a single integer n (1 ≤ n ≤ 200000) — the number of the functions.<br>Each of the next n lines contains two integers ai and bi (1 ≤ ai ≤ bi ≤ 109<br>) — the interval of library<br>versions where function i was available.</p>
<p>Output<br>In the first line output a single integer k — the minimal number of library versions need to be purchased<br>to unlock all functions.<br>In the second line output k distinct integers — the numbers of versions need to be purchased.<br>If there are several possible answers, output any of them.</p>
<p>Example<br>standard input<br>5<br>2 4<br>1 3<br>2 3<br>3 6<br>4 5<br>standard output<br>2<br>3 4</p>
<p>题意很简单，就是一种东西有很多个版本和很多个功能。但是每个功能仅存在于连续的几个版本中。<br>现在给出n个功能的存在情况，问至少要买那几个版本才能实现所有功能。</p>
<p>先按照各个功能的r从小到大排序，同时把l作为第二标准从小到大排序。这样买版本r就可以买到尽可能多的功能。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include&lt;bits/stdc++.h&gt;</span></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">struct U&#123;</div><div class="line">    int l,r;</div><div class="line">    bool operator &lt; (const U&amp;x)const&#123;</div><div class="line">        <span class="keyword">if</span>(r==x.r)<span class="built_in">return</span> l&lt;x.l;</div><div class="line">        <span class="built_in">return</span> r&lt;x.r;</div><div class="line">    &#125;</div><div class="line">&#125;a[200020];</div><div class="line">vector &lt;int&gt; ans;</div><div class="line"></div><div class="line">int <span class="function"><span class="title">main</span></span>()&#123;</div><div class="line">    int n;</div><div class="line">    scanf(<span class="string">"%d"</span>,&amp;n);</div><div class="line">    <span class="keyword">for</span>(int i=0;i&lt;n;i++)&#123;</div><div class="line">        scanf(<span class="string">"%d%d"</span>,&amp;a[i].l,&amp;a[i].r);</div><div class="line">    &#125;</div><div class="line">    int maxx=-1;</div><div class="line">    sort(a,a+n);</div><div class="line">    <span class="keyword">for</span>(int i=0;i&lt;n;i++)&#123;</div><div class="line">        <span class="keyword">if</span>(a[i].l&gt;maxx)&#123;</div><div class="line">        	/*排序后有，若li&gt;购买到的r的最大值。证明已购买的版本不能覆盖功能i。所以购买i并更新最大值*/</div><div class="line">            ans.push_back(a[i].r);</div><div class="line">            maxx=max(maxx,a[i].r);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans.size());</div><div class="line">    <span class="keyword">for</span>(int i=0;i&lt;ans.size();i++)&#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>,ans[i]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">xyr</p>
              <p class="site-description motion-element" itemprop="description">2543250555@qq.com</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xyr</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  
  

  

  

  

</body>
</html>
